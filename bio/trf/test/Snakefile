include: "tests.smk" #[hide]


#SAMPLE RULE 1: Run without params directive and it would
##############  automaticaly run with default recommended params.
##############  Also, missing logs directive would automatically 
##############  create a directory(logs) and log in {your_wild_card}.log.
rule run_trf_basic_with_defaults_nolog:
    input:
        sample="demo_data/{sample}.fasta",
    output:
        directory("trf_output/{sample}"),
    wrapper:
        "master/bio/trf"


#SAMPLE RULE 2: Run with all params directive and it would
##############  run according to provided params.
rule run_trf_with_all_custom_params_with_log:
    input:
        sample="demo_data/{sample}.fasta",
    output:
        directory("trf_output/{sample}"),
    params:
        match=2,
        mismatch=3,
        delta=3,
        pm=75,
        pi=20,
        minscore=100,
        maxperiod=1000,
        extra="-h"
    log:
        "logs_custom_param/{sample}.log"
    wrapper:
        "master/bio/trf"


#SAMPLE RULE 3: Run with partial params directive and it would
##############  run by updating defaults by provided params and
##############  and the remaining would remain set to defaults.
rule run_trf_basic_with_partial_custom_params_with_log:
    input:
        sample="demo_data/{sample}.fasta",
    output:
        directory("trf_output/{sample}"),
    params:
        mismatch=3,
        delta=3,
        extra="-m -l20"
    log:
        "logs/{sample}_partial_custom_params.log"
    wrapper:
        "master/bio/trf"